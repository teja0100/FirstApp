<form #employeeForm="ngForm" (ngSubmit)="saveEmployee()">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Create Employee</h3>
        </div>
        <div class="panel-body">
            <div class="form-group" [class.has-error]="NameControl.invalid && NameControl.touched"
             [class.has-success] = "NameControl.valid" >
                <label for="name" class="control-label">Name</label>
                <input type="text" required #NameControl="ngModel" id="name" name="name"
                 [(ngModel)]="employeeObj.name" class="form-control">
                 <span class="help-block" *ngIf="NameControl.invalid && NameControl.touched">
                    Name is required
                 </span>
            </div> 
            <div class="form-group" [class.has-error]="PreferenceControl.invalid && PreferenceControl.touched">
                <label>Contact Preference</label>
                <div class="form-control">
                    <label class="radio-inline control-label">
                        <input type="radio" name="contactPreference" value="phoneNumber" required #PreferenceControl="ngModel"
                            [(ngModel)]="employeeObj.contactPreference">Phone Number
                    </label>
                    <label class="radio-inline control-label">
                        <input type="radio" name="contactPreference" value="email" required #PreferenceControl="ngModel"
                         [(ngModel)]="employeeObj.contactPreference">Email
                    </label>
                </div>
                <span class="help-block" *ngIf="PreferenceControl.invalid && PreferenceControl.touched">
                    contactPreference is required</span>
            </div>
            <div class="form-group" [class.has-error]="emailControl.invalid" 
                [class.has-success] = "emailControl.valid && PreferenceControl.value == 'email'">
                <label for="email" class="control-label">Email</label>
                <input type="text" [required]="PreferenceControl.value=='email'" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" id="email"
                 name="email" #emailControl="ngModel"
                [(ngModel)]="employeeObj.email" class="form-control">
                 <span class="help-block" *ngIf="emailControl.errors">
                    Email is required
                  </span>
                  <span class="help-block" *ngIf="emailControl.errors">
                    Email is Invalid
                  </span>
            </div>
            <div class="form-group" [class.has-error]="phoneControl.invalid" 
             [class.has-success] = "phoneControl.valid && PreferenceControl.value=='phoneNumber'">
                <label for="phoneNumber" class="control-label">Phone Number</label>
                <input type="text" [required]="PreferenceControl.value=='phoneNumber'" id="phoneNumber" name="phoneNumber"
                 #phoneControl="ngModel" [(ngModel)]="employeeObj.phoneNumber" class="form-control">
                  <span class="help-block" *ngIf="phoneControl.invalid">
                    PhoneNumber is required
                 </span>
            </div>
            <div class="form-group" [class.has-error]="genderControl.invalid && genderControl.touched">
                <label class="control-label">Gender</label>
                <div class="form-control">
                    <label class="radio-inline">
                        <input type="radio" name="gender" required #genderControl="ngModel" value="male"
                         [(ngModel)]="employeeObj.gender">Male
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="gender" required #genderControl="ngModel" value="female"
                         [(ngModel)]="employeeObj.gender">Female
                    </label>
                </div>
                <span class="help-block" *ngIf="genderControl.invalid && genderControl.touched">
                    Gender is required</span>
            </div>
            <div class="form-group">
                <div class="form-control">
                    <label class="checkbox-inline">
                        <input type="checkbox" name="isActive" [(ngModel)]="employeeObj.isActive">
                        Is Active</label>
                </div>
            </div>
            <div class="form-group">
                <label for="department">Department</label>
                <select id="department" class="form-control" name="department" #deptControl="ngModel"
                 [(ngModel)]="employeeObj.department">
                    <option value="-1">select department</option>
                    <option *ngFor="let depart of departments" [value]="depart.value">{{depart.value}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="dateOfBirth">Date Of Birth</label>
                <input type="text" class="form-control" id="dateOfBirth" bsDatepicker name="dateOfBirth"
                    [(ngModel)]="employeeObj.dateOfBirth">
            </div>
            <div class="form-group">
                <label for="phtoPath">Photo Path</label>
                <input type="text" id="phtoPath" class="form-control" name="phtoPath" [(ngModel)]="employeeObj.photoPath">
            </div>
            <div class="form-group">
                <button type="button" (click)="togglePhotoPreview()" class="btn btn-primary">
                    {{previewPhoto? 'Hide ' : 'Show '}} Preview
                </button>
            </div>
            <div class="form-group">
                <img [src]="employeeObj.photoPath" alt="PhotoPath Image" *ngIf="previewPhoto" height="200px" width="200px">
            </div>


        </div>
        <div class="panel-footer">
            <button type="submit" class="btn btn-primary" [disabled]="employeeForm.invalid">Save</button>
        </div>
    </div>
</form>
{{employeeForm.value | json}}
<br/>
<br/>
{{employeeObj | json}}